import{A as tt,B as et,C as st,D as y,E as T}from"./@ionic-9d55a180.js";import"./@rive-app-23332047.js";import"./lodash-c398c9e4.js";import"./TabMenu.vue_vue_type_style_index_0_scss_true_lang-0943e4ce.js";import{_ as D,a as v}from"./index-40f8ec66.js";import{u as Y}from"./vuex-d57e3de0.js";import{v as i,J as l,C as e,K as $,z as u,u as r,L as M,M as L,F as C,I,N as _,a as U,O as q,r as at,c as A,w as ot,A as b,x as f,y as p,G as it,H as nt}from"./@vue-ba2132af.js";import{b as ct}from"./vue-router-0104e6e6.js";import"./dayjs-3dd13c04.js";import"./@awesome-cordova-plugins-365971a8.js";import"./@capacitor-6a3f6ab0.js";import{A as j}from"./att_untact_cd-9f1735c2.js";import{a as w,n as k}from"./search-wifi-rcptn-hist-886e94a5.js";import{A as x,W as X}from"./wifi-rcptn-hist-c15daa6c.js";import{S as dt}from"./search-eattd-tlsn-std-info-6770e658.js";import"./@stencil-18a6d1f6.js";import"./ionicons-2e812d46.js";import"./tslib-f1640d2e.js";import"./@vueuse-e4ab8daf.js";import"./axios-b6718f5e.js";import"./rxjs-6f486a4b.js";const rt="/assets/location-cc757c7b.png",lt="/assets/wifi-4f1602c0.png",ut={class:"attendance--md"},ht={class:"md__contents"},pt=$('<div class="attendance--guide" data-v-5eb2dca6><div class="guide__text" data-v-5eb2dca6><strong class="" data-v-5eb2dca6>원활한 전자출결 앱 사용을 위한 <br data-v-5eb2dca6>접근권한 안내</strong><span data-v-5eb2dca6>전자출결 서비스 이용을 위해서는 위치, 무선AP정보 활용이 필수 권한입니다. </span><span style="font-weight:bold;" data-v-5eb2dca6>원활한 서비스 이용을 위해 무선AP를 재접속 해주시길 바랍니다. </span></div><div class="guide__check" data-v-5eb2dca6><div class="check__item" data-v-5eb2dca6><i class="item__icon" data-v-5eb2dca6><img src="'+rt+'" alt="" data-v-5eb2dca6></i><div class="item__explain" data-v-5eb2dca6><div class="item__name" data-v-5eb2dca6>위치</div><div class="item__text" data-v-5eb2dca6>전자출결 앱 사용을 위해 위치서비스 설정을 항상으로 설정바랍니다.</div></div></div><div class="check__item" data-v-5eb2dca6><i class="item__icon" data-v-5eb2dca6><img src="'+lt+'" alt="" data-v-5eb2dca6></i><div class="item__explain" data-v-5eb2dca6><div class="item__name" data-v-5eb2dca6>Wifi</div><div class="item__text" data-v-5eb2dca6>무선 AP 정보 활용을 위해 WiFi연결상태를 확인하세요.</div></div></div></div></div>',1),mt={class:"md__buttons"},_t={__name:"AccessPopup",setup(a){const t=Y();function s(){t.commit("accessPopup/showAccessPopup",!1)}return(n,o)=>(i(),l("div",ut,[e("div",ht,[pt,e("div",mt,[e("a",{href:"javascript:;",class:"md__button",onClick:o[0]||(o[0]=c=>s())},"확인")])])]))}},ft=D(_t,[["__scopeId","data-v-5eb2dca6"]]),vt={class:"attendance--md date-select"},Ct={class:"md__contents",style:{margin:"0"}},At={__name:"DateSelectPopup",setup(a){const t=Y(),s=()=>{t.commit("dateSelectPopup/showDateSelectPopup",!1)},n=o=>{const c=o.detail.value;t.commit("dateSelectPopup/dateSelectDone",c),s()};return(o,c)=>(i(),l("div",vt,[e("div",Ct,[u(r(tt),{presentation:"date","prefer-wheel":!0,mode:"ios",showDefaultButtons:"true",cancel:s,onIonChange:n})])]))}},bt=D(At,[["__scopeId","data-v-1433d57b"]]),gt="data:image/gif;base64,R0lGODlhagBkAPIAAAAAADxgqz1irT5hrT5hrD5irwAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtJbWFnZU1hZ2ljaw1nYW1tYT0wLjQ1NDU1ACH5BAEoAAAALAAAAABqAGQAAALrhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8YhMKpfMpvMJjUqn1KpEgM1irVetd8ttfMeC8IJMNiPQaDVgrICbv4wAnXtn5KteSB+v5RcImCVYSAjm8Ge1KDbI2Hj2yBeZsEc5uVZJxcbm1in3CXroZmAHWhrXlqq3yXpw+aqZKQvrKhtb+3b7mlvri8vLCtwrnEo8bFyKfKwsSqvLvOysJv1MqmsL/Us91x1mXf2NmJhtEO69HaxezJ7s3gw/LX9dbo4OPo5ornDK/w8woMCBBAsaPMivAAAh/wtJbWFnZU1hZ2ljaw1nYW1tYT0wLjQ1NDU1ACH5BAEoAAAALAAAAABqAGQAAAL/hI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8SisTZAJYuD5pLkfAKjTSg1SK2OslJe1vT1hcFXb1l5zo1PXN0aHXXHW+9Z/cHtQu6x9D7vROEnw7cAONhQSDcXcaiYgPgSqeDY1shIOIlguflooLkCesAX4AkgCqeFp2mKyoaZCGsoOxtoR0uJ22m7ytunu6sa6zssDIMqigysokxca8zgSub8DA25/ImdqlfNPdpsvajN1yo9HX5dWU4tqX2q7m5+jp6uLlHqjoLPvrB/OCHvFb9ogCoEnOfNgal69Nrly/bwXcQUC79FrMgCo8aDg8ykVcToglOvgcFI0hBZrCHEiQ5NSnQJMpPKlTP9MRkQQMJCfEcEcez5hyXQoC6HGvxplKDQpEqLMr209CnDhFJ9Rq1KkypWqE63dvOaISbYrGMviB17Fmxar2u3tsX6tmpcqXOf1mV6N2leo3v5di2LgCfgwYQLGz6MOLHixYwb1ygAACH/C0ltYWdlTWFnaWNrDWdhbW1hPTAuNDU0NTUAIfkEASgAAAAsAAAAAGoAZAAAA/8Iutz+MMpJq7046827/2AojmRpnmiqrmzrvnAsz3RdF7ht4cXL5zrJr8caEoMQ48p4RDqYKYLSGYGarNTqlLTNan+lrvfLG4nHZCDojH6wNe/2c7gGY5ooPCVe4TfseWU7dBx+DFKAYYR9ixmGCliKjRKIgnCJE48dmgCcC5qehZMRlWoXo0moJ6CYe6pzrSilpml6QrFur6u6DLx/uLC0LY++vcDGx7mhs4yWrs630JlMyb/SD8zNwsrXqdTVn8XFneDj5N/m4uDn28G23Ojr6t3BBM/0yK2Radrv1jj2puHLVyCgg1n+CN5LGK5aqX4JiVUbYpDfwn4XMwpsp1D/YzSODUGGZAhpYrmTAD1a3EhynsiSA9mRlImRZU2bOHN+bInypUyGLmf6MhQ0YtCFQk32bCdRqU+aKr3Fe/QwqtSkMWFOTXlz56CsrLZWpHS0KylzCI2M9Wr27NIMaQs6WjpTK9as/+TOfXtKnjm7dUfW/dsUr+C9YP9CRXqH8DjFP78a5kR5HcHBYfHuq7UhXWGfm1cifhqZsWmImzw/zdzYMLzA5NZerYuotevXgSyPhg0h2xXIkknv5B2cOGoRoY5zAV5LtofkE2Y5T8189vLqw41bRw69uHZ33/MK74z9MnfdHHx/6A6+RdU66EUXmX4pvhY5xfHLYK9flP3+PtTdBuBz5Q3Y138G7pZgEQUuyFJ4Dp4W4W8ITvighbtUiOF2G14HYYfYjAfiiCSWaOKJKKao4oostujihAkAADs=",St={name:"beacon-popup",methods:{closePopup(){this.$store.commit("beaconPopup/showbeaconPopupToggle",!1)}}},Dt={class:"attendance--md"},wt=$('<div class="md__contents" data-v-91ad2ec5><div class="attendance--guide" data-v-91ad2ec5><div class="guide__text" data-v-91ad2ec5><strong class="" data-v-91ad2ec5>비콘과 인증 진행 중입니다.</strong></div><div class="guide__check" data-v-91ad2ec5><div class="check__item" data-v-91ad2ec5><p data-v-91ad2ec5> 비콘 인증이 완료될 때까지 <br data-v-91ad2ec5><strong data-v-91ad2ec5>잠시 기다려주세요.</strong></p></div></div><div class="guide__check" data-v-91ad2ec5><img src="'+gt+'" alt="비콘인증" data-v-91ad2ec5></div></div></div>',1),kt=[wt];function Nt(a,t,s,n,o,c){return i(),l("div",Dt,kt)}const Pt=D(St,[["render",Nt],["__scopeId","data-v-91ad2ec5"]]),R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAAsTAAALEwEAmpwYAAAECUlEQVRYhe3Z3U9bdRzH8fc5bWkLGwIJJrpEaYEOahxu8ZZkgnGbF7agjq0YFaY3uwBuvPN/cPTCC3VTR1vYEgZsFHEaM6/0Ym4DQ5/YKLqAyYgMEWjXp+PFSVmHSE8fCMXwuT5NX/n+Pr/T3zkVGjsGS4FeoA3QU3hZA4aBs2rA3v666b3336hHW6TaWdYmCUfixV9f9dmcY/6wCJwsVCiArkiF7YQJoEUE9IUKTWZ/iQagXNxpSCbZw25X9rDbFUVYS4+bdz/+nsnpP0lIUt6+fDUU5bPBKd7+aJyB8em01yvCrqxFmZ1f5tNLvxKYXcoLeDUU5dK3dxkYn+avlQiCkP4zirBdtgZeNj+NZ2aRc84J/DmCk9C+UR86rYoPW820NlfnB2s5aqCnPQXsuJM1OBWq16nptJp569UaNOr0FMUb7Lln9tNlO8Thukq8wYdZgVdDUQbGp+kb9VGsV3PGaqa1yaioAhlhAaqeLaWnvYEj9TLY7lJeibVwjMvX7+Jw+9Hr1HRYzLQ0GRFFhdJMsQCGA4/BU/cWsbsm0m661VCU/m8CXLwmT7TTmjk0Kyw8OeGpe4t84riDd+bhpuC1cIyB8WmcYwG5oxZ56VUZQrPGJsHdtob1DvduUolkR51jAXRaFZ2WeqxZTDRnLDyuxOG6SnwbNl3qZtIWqeSlb67OaqLJqHPBpoLt/ZP84nmA3TWB6fkyHkXiXP/pPjqtmg9azFizXPq8YpPgrtOHOOec4LZvgcBvS4iigLZIxZk8QSGPBxnDgVJamoyU6DVEYwki0ThH6iuxHDXkBQp5xAbnlhn6YYbVUBSNWqRIo+KWd4GRG0HiifwcfvJSg+DcMvb+SW77FnihuuKJzp4f8iBAYXQ2OLe83tV6QzldtgYOVpURCseoLNfjcPv5YsiDBLTkCM4JmwqtM5TT885LHKwqQxQESvQaTh2vRRAEHG4/F4Y9IEk53b6yxs7OL9Pr+vdExZRTSRIsSRLOsQAXRrwIgpDVT23W2Nl5eaK3vHJHu20NmDZAkynWqTl1vBZAnvBI9pXIGBuckyeahHZtAU2mRK/h9AkToihw8ZpPrgTQmuGEM8ImJ7rV0v9XinVqTr5WQyIh4XD7+XJEvktkUgnF2N//+Bu7a3IdmrqZlCZ10/WN+jg/LFfizeZqRQdwRdiRG0F+vDnHTc8DzMYKutuVT3QzcNuxGgD6RuVKSJKE9RVj2kcbRVi7a4JoLIHZWEFPe/qOZgJ2uP18fsVDIiHRdqw2d+y+Yg1P7dNytu3FnKEbwbF4gu9+vo+iR7nGjkFpN6SxY1D6/70+KpTsYbcruw4behSJ77Rjy6ysRQGWRODyV1e9FCo4HInjHAsAXBF20z+M/wAceYYhG9Q/4gAAAABJRU5ErkJggg==",yt={name:"profsr-att-code-modal",data(){return{attCode:["","","",""],att:new j,lecture:this.$store.state.profsr.lecture,timerText:"",intervalSet:setInterval(console.log("before"))}},ionViewDidLeave(){clearInterval(this.intervalSet),this.attCode=["","","",""],this.timerText=""},methods:{getAttCode(a){clearInterval(this.intervalSet),a==1?v("코드가 생성 되었습니다."):v("코드가 변경 되었습니다.");let t=180;this.att.openShtmCd=this.lecture.openShtmCd,this.att.openOrgnClsfCd=this.lecture.openOrgnClsfCd,this.att.openSust=this.lecture.openSust,this.att.openSbjtNo=this.lecture.openSbjtNo,this.att.openDclss=this.lecture.openDclss,this.att.ltStaffNo=this.lecture.ltStaffNo,this.att.openYr=w().yy,this.att.attYmd=w().checkDate,this.att.fromTm=this.lecture.fromTm,this.att.dayCd=this.lecture.dayCd,this.att.checkDate=this.$store.state.profsr.searchEattdOpenRpstStaffInfo.checkDate,this.att.openShyr=this.lecture.openShyr,this.$store.dispatch("common/setUntactCd",this.att).then(s=>{const n=s.data.resultData.untactCd;this.attCode[0]=n.slice(0,1),this.attCode[1]=n.slice(1,2),this.attCode[2]=n.slice(2,3),this.attCode[3]=n.slice(3);let o=s.data.resultData.crtTm,c=new Date(o.slice(0,4),parseInt(o.slice(5,7))-1,o.slice(8,10),o.slice(11,13),o.slice(14,16),o.slice(17));t=t-Math.floor((new Date().getTime()-c.getTime())/1e3),this.intervalSet=setInterval(()=>{t=t-1,t<0?(v("코드 입력시간이 끝났습니다.\n출석을 못한 인원에 대해 출결 처리를\n해주시기 바랍니다."),this.closeModal()):this.timerText=Math.floor(t/60)+":"+(t%60).toString().padStart(2,"0")},1e3)})},closeModal(){this.$store.commit("accessPopup/showUntactCodePopup",!1),clearInterval(this.intervalSet),this.attCode=["","","",""],this.timerText=""}}},Tt={class:"attendance--md"},Yt={class:"md__contents"},$t={class:"md__close"},It=e("img",{src:R,alt:"Close"},null,-1),Rt=[It],Ht={class:"attendance--prfcode"},xt=$('<strong class="prfcode__title" style="text-align:center;">교수 출석 코드 생성</strong><div class="prfcode__guide"><p class="guide__setence"><i class="s__icon">※</i><span class="s__text">아래 <em>4자리</em> 숫자를 학생들에게 알려주시기 바랍니다.</span></p><p class="guide__setence"><i class="s__icon">※</i><span class="s__text">학생들은 숫자를 <em>최대 3분안에 입력</em>해야합니다</span></p></div>',2),Mt={class:"prfcode__create"},Lt={class:"create__refresh"},Ut={class:"create__code"},qt=["value"],jt={class:"create__buttons"},Xt={key:0,class:"create__limit"},Bt={class:"limit__count"};function Et(a,t,s,n,o,c){return i(),l("div",Tt,[e("div",Yt,[e("div",$t,[e("a",{onClick:t[0]||(t[0]=d=>c.closeModal())},Rt)]),e("div",Ht,[xt,e("div",Mt,[e("div",Lt,[e("button",{type:"button",class:"refresh__button",onClick:t[1]||(t[1]=d=>c.getAttCode(2))},"코드변경")]),e("div",Ut,[e("ul",null,[(i(!0),l(M,null,L(o.attCode,(d,g)=>(i(),l("li",{key:g},[e("input",{type:"text",value:d,readonly:""},null,8,qt)]))),128))])]),e("div",jt,[e("button",{class:"create__button",onClick:t[2]||(t[2]=d=>c.getAttCode(1))},"코드생성")]),o.timerText!=""?(i(),l("div",Xt,[C(" 남은시간 "),e("span",Bt,I(o.timerText),1)])):_("",!0)])])])])}const Ot=D(yt,[["render",Et]]),Wt={name:"stdnt-untact-code-modal",data(){return{attCode:"",untactCd:new j,att:new x,wifiHist:new X,lecture:this.$store.state.stdnt.lectureInfo,timerText:"",intervalSet:setInterval(console.log("before")),checkNumber:["","","",""],showTimer:!1,notCode:!1,nativeParam:this.$store.state.stdnt.profsrCodeParam,checkDate:w().checkDate,yy:w().yy}},mounted(){this.getAttCode()},ionViewDidLeave(){clearInterval(this.intervalSet),this.attCode="",this.timerText=""},methods:{getAttCode(){clearInterval(this.intervalSet);let a=180;this.untactCd.openShtmCd=this.lecture.openShtmCd,this.untactCd.openOrgnClsfCd=this.lecture.openOrgnClsfCd,this.untactCd.openSust=this.lecture.openSust,this.untactCd.openDclss=this.lecture.openDclss,this.untactCd.ltStaffNo=this.lecture.staffNo,this.untactCd.openSbjtNo=this.lecture.openSbjtNo,this.untactCd.attYmd=this.checkDate,this.untactCd.openYr=this.yy,this.$store.dispatch("common/getuntactCdInfo",this.untactCd).then(t=>{if(t.data.resultData==null)this.notCode=!0;else{this.attCode=t.data.resultData.untactCd,this.showTimer=!0;let s=t.data.resultData.crtTm,n=new Date(s.slice(0,4),parseInt(s.slice(5,7))-1,s.slice(8,10),s.slice(11,13),s.slice(14,16),s.slice(17));a=a-Math.floor((new Date().getTime()-n.getTime())/1e3),this.intervalSet=setInterval(()=>{a=a-1,this.timerText=Math.floor(a/60)+":"+(a%60).toString().padStart(2,"0"),a<0&&(this.timerText="0:00")},1e3)}})},attCodeCheck(){const a=this.checkNumber[0]+""+this.checkNumber[1]+this.checkNumber[2]+this.checkNumber[3];if(a.length!==this.checkNumber.length){v("코드를 입력해주세요");return}this.att.wifiNm=this.nativeParam.ssid,this.att.wifiIp=this.nativeParam.macAddr,this.att.lat=this.nativeParam.lat,this.att.lot=this.nativeParam.lot,this.att.openShtmCd=this.untactCd.openShtmCd,this.att.openOrgnClsfCd=this.untactCd.openOrgnClsfCd,this.att.openSust=this.untactCd.openSust,this.att.openSbjtNo=this.untactCd.openSbjtNo,this.att.openDclss=this.untactCd.openDclss,this.att.ltStaffNo=this.untactCd.ltStaffNo,this.att.stdNo=this.lecture.stdNo,this.att.attYmd=this.checkDate,this.att.openYr=this.yy,this.lecture.skpDt&&(this.att.skltDt=this.lecture.skpDt),this.timerText=="0:00"?(this.att.attDiv="ULS58.40",this.att.attResn="입력시간 초과",this.$store.dispatch("common/setAttendance",this.att).then(()=>{this.attRecode(),v("코드 입력시간이 끝났습니다."),this.$store.commit("accessPopup/showAlert",!1),this.$store.commit("accessPopup/updateData",!0)})):this.attCode==a?(clearInterval(this.intervalSet),this.att.attResn="출석코드 일치",this.att.attPrcsCdYn="Y",this.$store.dispatch("common/setAttendance",this.att).then(t=>{t.data.resultCode==200&&(this.attRecode(),v("출석 정보 등록이 완료되었습니다."),this.$store.commit("accessPopup/showAlert",!1),this.$store.commit("accessPopup/updateData",!0))})):(this.att.attDiv="ULS58.40",this.att.attResn="출석코드 불일치",this.$store.dispatch("common/setAttendance",this.att).then(()=>{this.attRecode(),v("코드가 일치하지 않습니다."),this.checkNumber=["","","",""],this.$store.commit("accessPopup/updateData",!0)}))},closeModal(){this.$store.commit("accessPopup/showAlert",!1),clearInterval(this.intervalSet),this.attCode="",this.timerText=""},attRecode(){this.wifiHist.openYr=this.att.openYr,this.wifiHist.openShtmCd=this.att.openShtmCd,this.wifiHist.openOrgnClsfCd=this.att.openOrgnClsfCd,this.wifiHist.openSust=this.att.openSust,this.wifiHist.openSbjtNo=this.att.openSbjtNo,this.wifiHist.openDclss=this.att.openDclss,this.wifiHist.ltStaffNo=this.att.ltStaffNo,this.wifiHist.stdNo=this.att.stdNo,this.wifiHist.attYmd=this.att.attYmd,this.wifiHist.wifiRcptnHr=k().hourStr+":"+k().minStr+":"+new Date().getSeconds(),this.wifiHist.wifiRcptnItem="출석정보등록",this.wifiHist.result=this.att.attResn,this.lecture.skpDt&&(this.wifiHist.skltDt=this.lecture.skpDt),this.$store.dispatch("common/setAttendanceRecord",this.wifiHist).then(a=>{console.log("finish",a),this.att=new x})},changeFocus(a,t){let s=this.checkNumber[a-1]+"";if(s.length>1&&(this.checkNumber[a-1]=s.slice(0,1)),a!=4&&t.inputType=="insertText"){let n="number_"+a;this.$refs[n][0].focus()}}}},Ft={class:"attendance--md"},Gt={class:"md__contents"},Vt={class:"md__close"},Zt=e("img",{src:R,alt:"Close"},null,-1),Jt=[Zt],Qt={class:"attendance--direct"},Kt=e("strong",{class:"direct__title"},"교수님이 불러준 4자리 코드",-1),zt={class:"direct__guide"},te=e("span",null,[C("교수님이 불러준 "),e("em",null,"4자리 숫자를"),e("br"),e("em",null,"3분이내"),C("에 입력해 주시기 바랍니다.")],-1),ee={key:0,style:{color:"red"}},se={class:"direct__contents"},ae={class:"direct__code"},oe={class:"code__professor"},ie=["onUpdate:modelValue","onInput"],ne={class:"direct__buttons"},ce={key:0,class:"direct__limit"},de={class:"limit__count"};function re(a,t,s,n,o,c){return i(),l("div",Ft,[e("div",Gt,[e("div",Vt,[e("a",{onClick:t[0]||(t[0]=d=>c.closeModal())},Jt)]),e("div",Qt,[Kt,e("div",zt,[te,o.notCode?(i(),l("b",ee," 생성된 코드가 없습니다. ")):_("",!0)]),e("div",se,[e("div",ae,[e("div",oe,[e("ul",null,[(i(),l(M,null,L(4,d=>e("li",{key:d},[U(e("input",{type:"number","onUpdate:modelValue":g=>o.checkNumber[d-1]=g,ref_for:!0,ref:"number_".concat(d-1),onInput:g=>c.changeFocus(d,g)},null,40,ie),[[q,o.checkNumber[d-1]]])])),64))])])]),e("div",ne,[e("a",{class:"direct__button",onClick:t[1]||(t[1]=d=>c.attCodeCheck())},"확인")]),o.timerText!=""?(i(),l("div",ce,[C(" 입력 완료까지 남은시간 "),e("span",de,I(o.timerText),1)])):_("",!0)])])])])}const le=D(Wt,[["render",re]]),ue={name:"stdnt-code-modal",data(){return{inputCodeNumber:"",ulsLtrmInfm:this.$store.state.common.ulsLtrmInfm,attCodeParam:this.$store.state.stdnt.attCodeParam,checkDate:w().checkDate}},methods:{checkCode(){this.ulsLtrmInfm.ltrmCd===this.inputCodeNumber?this.setAttendance():v("강의실 코드가 일치하지 않습니다")},setAttendance(){this.$store.dispatch("common/setAttendance",this.attCodeParam.attHist).then(a=>{this.att=a.data.resultData;const t=new X;t.openYr=this.att.openYr,t.openShtmCd=this.att.openShtmCd,t.openOrgnClsfCd=this.att.openOrgnClsfCd,t.openSust=this.att.openSust,t.openDclss=this.att.openDclss,t.openSbjtNo=this.att.openSbjtNo,t.ltStaffNo=this.att.ltStaffNo,t.stdNo=this.att.stdNo,t.attYmd=this.att.attYmd,t.wifiRcptnHr=k().hourStr+":"+k().minStr,t.wifiRcptnItem="출석정보등록",this.att.skltDt&&(t.skltDt=this.att.skltDt),this.attCodeParam.wifiCheck||this.attCodeParam.gpsCheck?t.result="범위 내 수신":!this.attCodeParam.wifiCheck&&!this.attCodeParam.gpsCheck&&(t.result="Wifi 또는 GPS 정보가 일치하지 않음"),this.setAttendanceRecord(t)})},setAttendanceRecord(a){this.$store.dispatch("common/setAttendanceRecord",a).then(t=>{if(t.data.resultCode===200){const s=new dt;s.openSbjtNo=this.att.openSbjtNo,s.stdNo=this.att.stdNo,s.openYy=this.att.openYr,s.openDclss=this.att.openDclss,s.openShtmCd=this.att.openShtmCd,s.checkDate=this.checkDate,s.staffNo=this.att.ltStaffNo,v("출석 정보 등록이 완료되었습니다"),this.$store.commit("stdnt/setSearch",s),this.closeModal()}})},closeModal(){this.$store.commit("accessPopup/showCodeAttPopup",!1),this.inputCodeNumber=""}}},he={class:"attendance--md"},pe={class:"md__contents"},me={class:"md__close"},_e=e("img",{src:R,alt:"Close"},null,-1),fe=[_e],ve={class:"attendance--direct"},Ce=e("strong",{class:"direct__title"},"코드명을 입력해주세요.",-1),Ae=e("div",{class:"direct__guide"},[e("span",null,[C("QR코드 아래에 있는 코드명을 "),e("br"),e("em",null,"직접 작성해주세요.")])],-1),be={class:"direct__contents"},ge={class:"direct__code"},Se={class:"code__qr"},De={class:"direct__buttons"};function we(a,t,s,n,o,c){return i(),l("div",he,[e("div",pe,[e("div",me,[e("a",{onClick:t[0]||(t[0]=d=>c.closeModal())},fe)]),e("div",ve,[Ce,Ae,e("div",be,[e("div",ge,[e("div",Se,[U(e("input",{type:"text",placeholder:"코드입력","onUpdate:modelValue":t[1]||(t[1]=d=>o.inputCodeNumber=d)},null,512),[[q,o.inputCodeNumber]])])]),e("div",De,[e("a",{href:"javascript:;",class:"direct__button",onClick:t[2]||(t[2]=d=>c.checkCode())},"확인")])])])])])}const ke=D(ue,[["render",we]]),Ne="/assets/logout-9b473390.svg",Pe="/assets/back-3cc9507a.svg";const ye=a=>(it("data-v-ef776f99"),a=a(),nt(),a),Te={class:"app_container"},Ye={key:1,style:{width:"42px"},slot:"start"},$e={key:0},Ie=ye(()=>e("strong",null,"CNU",-1)),Re={key:1},He={class:"segment-box"},xe="/cnu/profsr/att/class",Me={__name:"MainPage",setup(a){const t=Y(),s=ct(),n=at("tab1"),o=A(()=>t.state.accessPopup.showAccessPopup),c=A(()=>t.state.accessPopup.showAlert),d=A(()=>t.state.accessPopup.showCodePopup),g=A(()=>t.state.accessPopup.showCodeAttPopup),B=A(()=>t.state.dateSelectPopup.showDateSelectPopup),E=A(()=>t.state.beaconPopup.visible),O=A(()=>n.value=="tab1"?"출결상세":n.value=="tab2"?"출결현황":n.value=="tab3"?"설정":"출결상세"),W=A(()=>{const h=t.state.signIn.user;return h?h.sttsClsfCd!=null:!0}),H=h=>{const{path:m,params:S}=h.currentRoute.value;return!!(m===xe||S!=null&&S.openSbjtNo)};ot(()=>s.currentRoute.value.path,h=>{["/cnu/mainPage","/cnu/stdnt/att/class","/cnu/stdnt/att/untact/code","/cnu/profsr/att/modify","/cnu/profsr/att/class","/cnu/profsr/att/code","/cnu/stdnt/att/codechk"].includes(h)?n.value="tab1":["/cnu/profsr/att/status","/cnu/stdnt/att/CardStatus","/cnu/stdnt/att/status","/cnu/stdnt/att/detail"].includes(h)?n.value="tab2":H(s)&&(n.value="tab3")});function N(h){const m=t.state.profsr.searchEattdOpenRpstStaffInfo.openSbjtNo,S=t.state.profsr.lecture.bcEquipYn;switch(h){case 1:s.push("/cnu/mainPage");break;case 2:t.commit("common/termUpdate",!0),W.value?s.push("/cnu/stdnt/att/status"):s.push("/cnu/profsr/att/status");break;case 3:s.push("/cnu/profsr/setup/".concat(m,"/").concat(S))}}function F(){t.dispatch("signIn/logout")}return(h,m)=>{const S=b("ion-back-button"),G=b("ion-icon"),V=b("ion-button"),Z=b("ion-toolbar"),J=b("ion-header"),Q=b("ion-router-outlet"),K=b("ion-content"),z=b("ion-page");return i(),f(z,null,{default:p(()=>[o.value?(i(),f(r(ft),{key:0})):_("",!0),c.value?(i(),f(r(le),{key:1})):_("",!0),g.value?(i(),f(r(ke),{key:2})):_("",!0),d.value?(i(),f(r(Ot),{key:3})):_("",!0),B.value?(i(),f(r(bt),{key:4})):_("",!0),E.value?(i(),f(r(Pt),{key:5})):_("",!0),u(J,{mode:"md"},{default:p(()=>[e("div",Te,[u(Z,null,{default:p(()=>[h.$route.path!=="/cnu/mainPage"?(i(),f(S,{key:0,"default-href":"/cnu",mode:"md",slot:"start",shape:"round",fill:"clear",icon:r(Pe)},null,8,["icon"])):(i(),l("div",Ye)),u(r(et),null,{default:p(()=>[h.$route.path==="/cnu/mainPage"?(i(),l("h1",$e,[Ie,C("전자출결")])):_("",!0),h.$route.path!=="/cnu/mainPage"?(i(),l("h2",Re,I(O.value),1)):_("",!0)]),_:1}),u(V,{onClick:m[0]||(m[0]=P=>F()),mode:"md",slot:"end",shape:"round",fill:"clear",class:"btn-logout"},{default:p(()=>[u(G,{slot:"icon-only",src:r(Ne)},null,8,["src"])]),_:1})]),_:1}),e("div",He,[u(r(st),{value:n.value,mode:"md"},{default:p(()=>[u(r(y),{value:"tab1",onClick:m[1]||(m[1]=P=>N(1)),mode:"md"},{default:p(()=>[u(r(T),null,{default:p(()=>[C("출석등록")]),_:1})]),_:1}),u(r(y),{value:"tab2",onClick:m[2]||(m[2]=P=>N(2)),mode:"md"},{default:p(()=>[u(r(T),null,{default:p(()=>[C("출결현황")]),_:1})]),_:1}),H(r(s))?(i(),f(r(y),{key:0,value:"tab3",onClick:m[3]||(m[3]=P=>N(3)),mode:"md"},{default:p(()=>[u(r(T),null,{default:p(()=>[C("설정")]),_:1})]),_:1})):_("",!0)]),_:1},8,["value"])])])]),_:1}),u(K,null,{default:p(()=>[u(Q)]),_:1})]),_:1})}}},os=D(Me,[["__scopeId","data-v-ef776f99"]]);export{os as default};
