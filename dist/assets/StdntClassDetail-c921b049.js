import{g as r}from"./weekList-517d4bfd.js";import{a as h}from"./search-wifi-rcptn-hist-886e94a5.js";import{c as m,b as d,a as u,s as D}from"./school-55a6434e.js";import{c as p}from"./calendar-43e64fc0.js";import{_}from"./index-40f8ec66.js";import{A as f,v as k,J as I,C as e,z as a,I as n,F as c}from"./@vue-ba2132af.js";const T={name:"stdnt-class-detail",data(){return{search:this.$store.state.stdnt.getDetail,clsDetail:{},thisWeek:[],setToday:"",startTime:"",endTime:"",clsTm:"",startInd:"",endInd:"",timeLine:["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00"],chalkboardIcon:m,bookIcon:d,alarmIcon:u,schoolIcon:D,calendarIcon:p}},watch:{"$store.state.stdnt.getDetail":function(){this.search=this.$store.state.stdnt.getDetail,this.getClsDetail()}},mounted(){this.getThisWeek()},ionViewDidLeave(){this.clsDetail={}},methods:{getClsDetail(){const i=t=>{const l=t.split("~");return l[0].slice(0,2)+":"+l[0].slice(2,4)};this.$store.dispatch("stdnt/getLectureInfo",this.search).then(t=>{this.clsDetail=t.data.resultData,this.findClsDate(this.clsDetail.dayCd),this.startTime=i(t.data.resultData.fromTm),this.endTime=i(t.data.resultData.toTm),this.clsTm=t.data.resultData.clsTm,this.startInd=this.timeLine.findIndex(l=>l==i(t.data.resultData.fromTm))/2,this.endInd=this.timeLine.findIndex(l=>l==i(t.data.resultData.toTm))/2,this.$store.commit("stdnt/setLectureInfo",t.data.resultData)})},getThisWeek(){let i="";Object.keys(this.$store.state.common.weekDay).length===0&&this.$store.state.common.weekDay.constructor===Object?i=h().checkDate:i=this.$store.state.common.weekDay.startDate;const t=new Date(i.slice(0,4),i.slice(4,6)-1,i.slice(6));this.thisWeek=r(t),this.getClsDetail()},findClsDate(i){const t=i.replace("CBA62.","");this.setToday=this.thisWeek[t].y+"."+this.thisWeek[t].M+"."+this.thisWeek[t].d+" ("+this.thisWeek[t].dayS+")"}}},g={class:"class-list"},y=e("span",null,"과목",-1),C=e("span",null,"날짜",-1),b=e("span",null,"시간",-1),N=e("span",null,"강의실",-1),W=e("span",null,"교수",-1);function v(i,t,l,w,s,L){const o=f("ion-icon");return k(),I("ul",g,[e("li",null,[a(o,{icon:s.bookIcon},null,8,["icon"]),e("div",null,[y,e("strong",null,n(s.clsDetail.sbjtNm)+" ("+n(s.clsDetail.openSbjtNo)+")",1)])]),e("li",null,[a(o,{icon:s.calendarIcon},null,8,["icon"]),e("div",null,[C,c(" "+n(s.setToday),1)])]),e("li",null,[a(o,{icon:s.alarmIcon},null,8,["icon"]),e("div",null,[b,c(" "+n(s.clsTm)+" ("+n(s.startInd)+"교시 ~ "+n(s.endInd)+"교시) ",1)])]),e("li",null,[a(o,{icon:s.chalkboardIcon},null,8,["icon"]),e("div",null,[N,c(" "+n(s.clsDetail.ltBldgNm)+" "+n(s.clsDetail.ltrmNm),1)])]),e("li",null,[a(o,{icon:s.schoolIcon},null,8,["icon"]),e("div",null,[W,c(" "+n(s.clsDetail.staffNm),1)])])])}const F=_(T,[["render",v]]);export{F as S};
